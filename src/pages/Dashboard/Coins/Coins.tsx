import { Box, Typography } from "@mui/material";
import PopularCoins from "./components/PopularCoins/PopularCoins";
import MostProminentCurrency from "./components/MostProminentCurrency/MostProminentCurrency";
import LessProminentCurrency from "./components/LessProminentCurrency/LessProminentCurrency";
import CoinsTable from "./components/TableHistoryCoin/CoinsTable";
import { Coins as Coin } from "../../../models/Coins.model";
import { useSummary } from "../../../hooks/useSummary";
import { useEffect } from "react";
import { mergeCoinsData } from "../../../utils/mergeCoinsData";

const popularCoins: Coin[] = [
  {
    id: "bitcoin",
    name: "BTC",
    symbol: "BTC",
    binance_symbol: "BTCUSDT",
    image: "üíµ",
    market_cap: 1500000000000,
    market_cap_rank: 1,
    current_price: 78520,
    high_24h: 80000,
    low_24h: 77000,
    price_change_percentage_24h: 2.38,
    total_volume: 35000000000,
  },
  {
    id: "ethereum",
    name: "ETH",
    symbol: "ETH",
    binance_symbol: "ETHUSDT",
    image: "üíé",
    market_cap: 580000000000,
    market_cap_rank: 2,
    current_price: 1740,
    high_24h: 1780,
    low_24h: 1700,
    price_change_percentage_24h: 2.76,
    total_volume: 20000000000,
  },
  {
    id: "binancecoin",
    name: "BNB",
    symbol: "BNB",
    binance_symbol: "BNBUSDT",
    image: "üí∞",
    market_cap: 85000000000,
    market_cap_rank: 4,
    current_price: 559.68,
    high_24h: 565,
    low_24h: 550,
    price_change_percentage_24h: -0.46,
    total_volume: 1200000000,
  },
  {
    id: "solana",
    name: "SOL",
    symbol: "SOL",
    binance_symbol: "SOLUSDT",
    image: "üî•",
    market_cap: 65000000000,
    market_cap_rank: 5,
    current_price: 143.1,
    high_24h: 147,
    low_24h: 140,
    price_change_percentage_24h: -1.25,
    total_volume: 3000000000,
  },
  {
    id: "ripple",
    name: "XRP",
    symbol: "XRP",
    binance_symbol: "XRPUSDT",
    image: "‚ö°",
    market_cap: 30000000000,
    market_cap_rank: 6,
    current_price: 0.52,
    high_24h: 0.54,
    low_24h: 0.5,
    price_change_percentage_24h: 0.89,
    total_volume: 1500000000,
  },
  {
    id: "cardano",
    name: "ADA",
    symbol: "ADA",
    binance_symbol: "ADAUSDT",
    image: "üî∑",
    market_cap: 16000000000,
    market_cap_rank: 9,
    current_price: 0.45,
    high_24h: 0.47,
    low_24h: 0.44,
    price_change_percentage_24h: -0.8,
    total_volume: 900000000,
  },
  {
    id: "dogecoin",
    name: "DOGE",
    symbol: "DOGE",
    binance_symbol: "DOGEUSDT",
    image: "üê∂",
    market_cap: 20000000000,
    market_cap_rank: 8,
    current_price: 0.12,
    high_24h: 0.13,
    low_24h: 0.115,
    price_change_percentage_24h: 0.25,
    total_volume: 1400000000,
  },
  {
    id: "polkadot",
    name: "DOT",
    symbol: "DOT",
    binance_symbol: "DOTUSDT",
    image: "üõ†Ô∏è",
    market_cap: 10000000000,
    market_cap_rank: 12,
    current_price: 5.3,
    high_24h: 5.5,
    low_24h: 5.1,
    price_change_percentage_24h: 1.1,
    total_volume: 750000000,
  },
  {
    id: "litecoin",
    name: "LTC",
    symbol: "LTC",
    binance_symbol: "LTCUSDT",
    image: "üåô",
    market_cap: 7000000000,
    market_cap_rank: 15,
    current_price: 88.42,
    high_24h: 90,
    low_24h: 87,
    price_change_percentage_24h: -0.5,
    total_volume: 600000000,
  },
  {
    id: "avalanche-2",
    name: "AVAX",
    symbol: "AVAX",
    binance_symbol: "AVAXUSDT",
    image: "‚ùÑÔ∏è",
    market_cap: 12000000000,
    market_cap_rank: 11,
    current_price: 28.75,
    high_24h: 29.5,
    low_24h: 27.9,
    price_change_percentage_24h: 1.45,
    total_volume: 950000000,
  },
];

// Array de Monedas Destacadas (mayor movimiento en %)
const mostProminentCoins: Coin[] = [
  {
    id: "matic-network",
    name: "Polygon",
    symbol: "MATIC",
    binance_symbol: "MATICUSDT",
    image: "https://seeklogo.com/images/P/polygon-matic-logo-444501.png",
    market_cap: 11400000000,
    market_cap_rank: 14,
    current_price: 1.22,
    high_24h: 1.28,
    low_24h: 1.15,
    price_change_percentage_24h: 5.3,
    total_volume: 580000000,
  },
  {
    id: "fantom",
    name: "Fantom",
    symbol: "FTM",
    binance_symbol: "FTMUSDT",
    image: "https://seeklogo.com/images/F/fantom-ftm-logo-398529.png",
    market_cap: 1700000000,
    market_cap_rank: 60,
    current_price: 0.65,
    high_24h: 0.69,
    low_24h: 0.61,
    price_change_percentage_24h: -4.2,
    total_volume: 190000000,
  },
  {
    id: "cosmos",
    name: "Cosmos",
    symbol: "ATOM",
    binance_symbol: "ATOMUSDT",
    image: "https://altcoinsbox.com/wp-content/uploads/2022/11/cosmos-logo.png",
    market_cap: 3900000000,
    market_cap_rank: 30,
    current_price: 10.45,
    high_24h: 10.8,
    low_24h: 9.95,
    price_change_percentage_24h: 3.5,
    total_volume: 210000000,
  },
  {
    id: "near",
    name: "NEAR Protocol",
    symbol: "NEAR",
    binance_symbol: "NEARUSDT",
    image:
      "https://www.pngall.com/wp-content/uploads/10/NEAR-Protocol-Crypto-PNG.png",
    market_cap: 3300000000,
    market_cap_rank: 33,
    current_price: 3.2,
    high_24h: 3.35,
    low_24h: 3.0,
    price_change_percentage_24h: -2.9,
    total_volume: 250000000,
  },
  {
    id: "vechain",
    name: "VeChain",
    symbol: "VET",
    binance_symbol: "VETUSDT",
    image:
      "https://vectorseek.com/wp-content/uploads/2021/12/VeChain-VET-Logo-Vector.svg-.png",
    market_cap: 2500000000,
    market_cap_rank: 40,
    current_price: 0.035,
    high_24h: 0.037,
    low_24h: 0.032,
    price_change_percentage_24h: 6.7,
    total_volume: 170000000,
  },
  {
    id: "hedera-hashgraph",
    name: "Hedera",
    symbol: "HBAR",
    binance_symbol: "HBARUSDT",
    image:
      "https://seeklogo.com/images/H/hedera-hashgraph-hbar-logo-398313.png",
    market_cap: 1600000000,
    market_cap_rank: 45,
    current_price: 0.11,
    high_24h: 0.115,
    low_24h: 0.106,
    price_change_percentage_24h: -1.6,
    total_volume: 90000000,
  },
  {
    id: "algorand",
    name: "Algorand",
    symbol: "ALGO",
    binance_symbol: "ALGOUSDT",
    image:
      "https://altcoinsbox.com/wp-content/uploads/2022/11/algorand-logo.png",
    market_cap: 1800000000,
    market_cap_rank: 50,
    current_price: 0.23,
    high_24h: 0.24,
    low_24h: 0.22,
    price_change_percentage_24h: 4.1,
    total_volume: 85000000,
  },
  {
    id: "internet-computer",
    name: "Internet Computer",
    symbol: "ICP",
    binance_symbol: "ICPUSDT",
    image: "https://cryptologos.cc/logos/internet-computer-icp-logo.png",
    market_cap: 3600000000,
    market_cap_rank: 25,
    current_price: 7.85,
    high_24h: 8.1,
    low_24h: 7.5,
    price_change_percentage_24h: -3.8,
    total_volume: 220000000,
  },
  {
    id: "the-graph",
    name: "The Graph",
    symbol: "GRT",
    binance_symbol: "GRTUSDT",
    image:
      "https://logowik.com/content/uploads/images/the-graph-grt-logo-vector.svg",
    market_cap: 1400000000,
    market_cap_rank: 55,
    current_price: 0.15,
    high_24h: 0.16,
    low_24h: 0.145,
    price_change_percentage_24h: 2.05,
    total_volume: 60000000,
  },
  {
    id: "the-sandbox",
    name: "The Sandbox",
    symbol: "SAND",
    binance_symbol: "SANDUSDT",
    image:
      "https://logowik.com/content/uploads/images/the-sandbox-sand-logo-vector.svg",
    market_cap: 1100000000,
    market_cap_rank: 70,
    current_price: 0.52,
    high_24h: 0.55,
    low_24h: 0.5,
    price_change_percentage_24h: -0.95,
    total_volume: 73000000,
  },
];

const lessProminentCoins: Coin[] = [
  {
    id: "xlm",
    name: "XLM",
    symbol: "xlm",
    binance_symbol: "XLMUSDT",
    image:
      "https://assets.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png",
    market_cap: 2500000000,
    market_cap_rank: 30,
    current_price: 0.1,
    high_24h: 0.11,
    low_24h: 0.095,
    price_change_percentage_24h: 0.45,
    total_volume: 12000000,
  },
  {
    id: "zil",
    name: "ZIL",
    symbol: "zil",
    binance_symbol: "ZILUSDT",
    image:
      "https://assets.coingecko.com/coins/images/2687/large/Zilliqa-logo.png",
    market_cap: 500000000,
    market_cap_rank: 80,
    current_price: 0.03,
    high_24h: 0.031,
    low_24h: 0.029,
    price_change_percentage_24h: -0.8,
    total_volume: 5000000,
  },
  {
    id: "enj",
    name: "ENJ",
    symbol: "enj",
    binance_symbol: "ENJUSDT",
    image:
      "https://assets.coingecko.com/coins/images/1106/large/enjin-coin-logo.png",
    market_cap: 400000000,
    market_cap_rank: 85,
    current_price: 0.41,
    high_24h: 0.42,
    low_24h: 0.39,
    price_change_percentage_24h: 1.6,
    total_volume: 6200000,
  },
  {
    id: "chz",
    name: "CHZ",
    symbol: "chz",
    binance_symbol: "CHZUSDT",
    image: "https://assets.coingecko.com/coins/images/8834/large/Chiliz.png",
    market_cap: 600000000,
    market_cap_rank: 65,
    current_price: 0.12,
    high_24h: 0.13,
    low_24h: 0.11,
    price_change_percentage_24h: -1.2,
    total_volume: 8000000,
  },
  {
    id: "btt",
    name: "BTT",
    symbol: "btt",
    binance_symbol: "BTTUSDT",
    image: "https://assets.coingecko.com/coins/images/22457/large/btt_logo.png",
    market_cap: 350000000,
    market_cap_rank: 90,
    current_price: 0.0000023,
    high_24h: 0.0000024,
    low_24h: 0.0000022,
    price_change_percentage_24h: 0.35,
    total_volume: 400000000,
  },
  {
    id: "one",
    name: "ONE",
    symbol: "one",
    binance_symbol: "ONEUSDT",
    image: "https://assets.coingecko.com/coins/images/4344/large/Y88JAze.png",
    market_cap: 300000000,
    market_cap_rank: 95,
    current_price: 0.015,
    high_24h: 0.016,
    low_24h: 0.0145,
    price_change_percentage_24h: -0.45,
    total_volume: 3500000,
  },
  {
    id: "celo",
    name: "CELO",
    symbol: "celo",
    binance_symbol: "CELOUSDT",
    image: "https://assets.coingecko.com/coins/images/11090/large/celo.png",
    market_cap: 800000000,
    market_cap_rank: 55,
    current_price: 0.59,
    high_24h: 0.6,
    low_24h: 0.57,
    price_change_percentage_24h: 2.1,
    total_volume: 10000000,
  },
  {
    id: "hnt",
    name: "HNT",
    symbol: "hnt",
    binance_symbol: "HNTUSDT",
    image:
      "https://assets.coingecko.com/coins/images/4284/large/Helium_HNT.png",
    market_cap: 450000000,
    market_cap_rank: 70,
    current_price: 1.25,
    high_24h: 1.3,
    low_24h: 1.2,
    price_change_percentage_24h: -0.95,
    total_volume: 2200000,
  },
  {
    id: "qtum",
    name: "QTUM",
    symbol: "qtum",
    binance_symbol: "QTUMUSDT",
    image: "https://assets.coingecko.com/coins/images/684/large/qtum.png",
    market_cap: 320000000,
    market_cap_rank: 88,
    current_price: 3.45,
    high_24h: 3.5,
    low_24h: 3.3,
    price_change_percentage_24h: 1.75,
    total_volume: 4300000,
  },
  {
    id: "icx",
    name: "ICX",
    symbol: "icx",
    binance_symbol: "ICXUSDT",
    image:
      "https://assets.coingecko.com/coins/images/1060/large/icon-icx-logo.png",
    market_cap: 270000000,
    market_cap_rank: 97,
    current_price: 0.18,
    high_24h: 0.19,
    low_24h: 0.17,
    price_change_percentage_24h: -0.6,
    total_volume: 1900000,
  },
];

const sampleCoins = [
  {
    name: "Bitcoin",
    icon: "üü°",
    price: "$68,500",
    change: "+2.5%",
    isPositive: true,
    volume: { "1h": "$5B", "24h": "$35B", "7d": "$200B" },
    marketCap: "$1.3T",
  },
  {
    name: "Ethereum",
    icon: "üíé",
    price: "$3,500",
    change: "-1.2%",
    isPositive: false,
    volume: { "1h": "$2.5B", "24h": "$18B", "7d": "$100B" },
    marketCap: "$420B",
  },
  {
    name: "Cardano",
    icon: "üîµ",
    price: "$0.45",
    change: "+5.8%",
    isPositive: true,
    volume: { "1h": "$500M", "24h": "$3.2B", "7d": "$20B" },
    marketCap: "$15B",
  },
  {
    name: "Solana",
    icon: "üü¢",
    price: "$140",
    change: "-0.8%",
    isPositive: false,
    volume: { "1h": "$1B", "24h": "$7B", "7d": "$50B" },
    marketCap: "$60B",
  },
  {
    name: "ICX",
    icon: "üåâ",
    price: "‚Ç¨0.18",
    change: "-0.60%",
    isPositive: false,
    volume: { "1h": "$100M", "24h": "$500M", "7d": "$3B" },
    marketCap: "$1.2B",
  },
];

const Coins = () => {
  const { getMainCoinsLiveData, mainCoinsData, mainCoinsDataUpdate } =
    useSummary();
  useEffect(() => {
    getMainCoinsLiveData();
  }, []);
  const mergeCoins = mergeCoinsData(mainCoinsData, mainCoinsDataUpdate);

  return (
    <Box sx={{ p: 3, pt: 0 }}>
      <Box
        display="flex"
        justifyContent="space-around"
        gap={3}
        mb={4}
        flexWrap="wrap"
      >
        {/* <PopularCoins coins={popularCoins} /> */}
        <MostProminentCurrency coins={mergeCoins} />
        {/* <LessProminentCurrency coins={lessProminentCoins} /> */}
      </Box>
      <Box sx={{ width: "100%", px: 3 }}>
        <Box
          sx={{ width: "100%", display: "flex", justifyContent: "left", my: 3 }}
        >
          <Typography variant="h5" sx={{ fontWeight: "700" }} gutterBottom>
            Mercado
          </Typography>
        </Box>
        <CoinsTable coins={sampleCoins} show={false} />
      </Box>
    </Box>
  );
};

export default Coins;
